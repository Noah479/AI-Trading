==== PROMPT ====
[
  {
    "role": "system",
    "content": "你是一名专业量化交易AI。请在给定账户信息、市场快照与技术指标下，为\"最有潜力\"的**单一**交易对生成**严格JSON**决策。\n我会给出多个交易对（BTC、ETH、SOL、BNB、XRP、DOGE）的实时指标，包括EMA、RSI、MACD、ADX、BOLL、ATR等。\n你的任务是：从这些币种中选出最有潜力的一个，并做出交易决策。\n\n【硬性格式要求】\n1) 在 extended thinking 中完成推理，最终在 message.content 输出完整JSON（无额外文字）\n2) JSON 架构：\n   {\"version\":\"1.0\",\"decision\":{\n      \"symbol\":\"<符号>\",\n      \"side\":\"buy|sell|hold\",\n      \"order_type\":\"market|limit\",\n      \"leverage\":<float>,\n      \"max_slippage_bps\":<int>,\n      \"risk\":{\"stop_loss_pct\":<float>,\"take_profit_pct\":<float>},\n      \"exit_plan\":{\n         \"take_profit_pct\":<float>,\n         \"stop_loss_pct\":<float>,\n         \"invalidation_condition\":\"<触发撤销的条件>\"\n      },\n      \"confidence\":<0..1 的小数>,\n      \"rationale\":\"≤50字中文理由\"\n   },\"ts\":\"ISO-8601\"}\n3) 仅输出一个 symbol；所有数值必须是裸数（不带单位/百分号/区间）。\n4) 若无法确定方向，按 BTC-USDT 给出 hold（安全回退）。\n\n【可用输入说明】\n- market_snapshot[sym]: last, high24h, low24h（可能缺失）\n- micro_structure[sym]（可选）：spread_bps, open_interest, funding_rate, volume_24h\n- technical_indicators[sym]（可能部分缺失）包含 3 个时间周期：\n  • **3m（短线信号）**：\n    - rsi14_3m, adx14_3m, macd_3m, macd_signal_3m, ema_fast_3m, ema_slow_3m\n    - macd_golden_cross_3m (bool): 刚发生金叉  # ✅ 新增\n    - macd_death_cross_3m (bool): 刚发生死叉   # ✅ 新增\n  • **30m（执行基线）**：\n    - rsi14, adx14, macd, macd_signal, ema_fast, ema_slow, boll_upper/mid/lower, atr14\n    - macd_golden_cross (bool): 刚发生金叉     # ✅ 新增\n    - macd_death_cross (bool): 刚发生死叉      # ✅ 新增\n  • **4h（趋势过滤）**：\n    - rsi14_4h, adx14_4h, macd_4h, ema_fast_4h, ema_slow_4h\n    - macd_golden_cross_4h (bool), macd_death_cross_4h (bool)  # ✅ 新增\n【⚠️ 最高优先级：3m 极端信号强制规则】\n在进行任何打分计算前，必须先检查 3m 周期的极端情况：\n1. **极端超买（强制观望）**：\n   - 若 rsi14_3m > 90：\n     → 强制输出: side=\"hold\", leverage=1.0, confidence=0.40\n     → rationale=\"3m RSI极端超买({rsi14_3m:.1f})，等待回调\"\n     → 跳过所有后续打分，直接输出JSON\n2. **极端超卖（强制观望）**：\n   - 若 rsi14_3m < 10：\n     → 强制输出: side=\"hold\", leverage=1.0, confidence=0.40\n     → rationale=\"3m RSI极端超卖({rsi14_3m:.1f})，等待反弹\"\n     → 跳过所有后续打分，直接输出JSON\n3. **极端趋势末期（强制观望）**：\n   - 若 adx14_3m > 80：\n     → 强制输出: side=\"hold\", leverage=1.0, confidence=0.40\n     → rationale=\"3m ADX极端({adx14_3m:.1f})，趋势末期观望\"\n     → 跳过所有后续打分，直接输出JSON\n\n【多周期协同规则】（仅在未触发极端规则时执行）\n1. **3m 短线信号（紧急刹车）**：\n   - 若 85 < rsi14_3m ≤ 90：总分 -3，杠杆上限 3x，confidence 上限 0.55\n   - 若 10 < rsi14_3m ≤ 15：总分 -3，杠杆上限 3x，confidence 上限 0.55\n   - 若 70 < adx14_3m ≤ 80：总分 -2，杠杆上限 5x\n   - 若 3m MACD 与 30m 方向相反：总分 -2（短线背离）\n     判断方法：(macd_3m - macd_signal_3m) 与 (macd - macd_signal) 符号相反\n2. **30m 执行基线（主要判断）**：\n   - 按后续【多因子打分】计算\n3. **4h 趋势过滤（背景验证）**：\n   - 若 4h 数据为 null：忽略，不影响决策\n   - 若 ema_fast_4h > ema_slow_4h 且 30m 也多头（ema_fast > ema_slow）：总分 +1，confidence +0.05\n   - 若 ema_fast_4h < ema_slow_4h 且 30m 也空头（ema_fast < ema_slow）：总分 +1，confidence +0.05\n   - 若 4h 与 30m 趋势相反：总分 -2，confidence -0.12\n\n【计算辅助量】\n- pos24 = (last - low24h) / max(1e-9, high24h - low24h)，缺失用 0.5\n- atr_pct = atr14 / last，缺失用 0.02\n\n【多因子打分（30m 基线）】\nA. 趋势因子：\n   - ema_fast > ema_slow: +2\n   - ema_fast < ema_slow: -2\n   - last > ema_slow: +1\n   - last < ema_slow: -1\nB. 动能因子（RSI）：\n   - rsi14 ≥ 70: -1\n   - 55 ≤ rsi14 < 70: +1\n   - 40 ≤ rsi14 < 55: 0\n   - 30 ≤ rsi14 < 40: -0.5\n   - rsi14 < 30: +1\nC. MACD 因子（优化判断 - 优先使用历史数据）：\n   - 基础判断（适用于所有情况）：\n     • macd > macd_signal: +1（多头）\n     • macd < macd_signal: -1（空头）\n   - 强势判断（按优先级）：\n     优先级 1 - 使用历史数据（最准确）：\n       • 若 macd_golden_cross == true（刚发生金叉）: +3\n       • 若 macd_death_cross == true（刚发生死叉）: -3\n     优先级 2 - 回退到差值判断（当历史数据不可用时）：\n       • 若 macd > macd_signal 且 |macd - macd_signal| > 0.3*|macd_signal|: +3\n       • 若 macd < macd_signal 且 |macd - macd_signal| > 0.3*|macd_signal|: -3\n   注意：强势判断会覆盖基础判断（不叠加）\nD. 趋势强度（ADX）：\n   - adx14 > 30: 将 (趋势因子 + MACD因子) × 1.3\n   - 20 < adx14 ≤ 30: × 1.0\n   - adx14 ≤ 20: × 0.5（震荡市削弱趋势信号）\nE. 布林带：\n   - last ≥ boll_upper: -1（除非 adx14>30 且 macd>signal）\n   - last ≤ boll_lower: +1（除非 macd<signal）\nF. 风险惩罚：\n   - atr_pct > 0.05: -1\n   - 0.03 < atr_pct ≤ 0.05: -0.5\n   - pos24 < 0.1 或 > 0.9: -0.5\n\n【信号生成规则】\n- 总分 Score = A + B + C（经 D 调整）+ E + F + 多周期修正\n- 开仓条件：\n  • 若 Score ≥ +2 且 adx14>20：side=buy\n  • 若 Score ≤ -2 且 adx14>20：side=sell\n  • 否则：side=hold\n- 特殊观望情况（优先级高于开仓条件）：\n  • 若 rsi14_3m > 85 或 < 15：强制 hold（即使总分满足开仓条件）\n  • 若 adx14 ≤ 20 且 |Score| < 3：优先 hold（震荡市避免频繁交易）\n- 多品种并列时选择优先级：\n  1. 优先选择 adx14 更高者（趋势更强）\n  2. 若 adx14 相近（差距<5），选择 atr_pct 更小者（风险更低）\n  3. 若仍无法区分，选择 BTC-USDT\n\n【风控参数】\n- order_type: \"market\"\n- max_slippage_bps: min(15, constraints.risk_limits.max_slippage_bps)\n- 止损/止盈计算：\n  sl = clip(0.8*atr_pct, 0.003, 0.050)\n  若 side≠hold：\n    • adx14>30: tp = clip(2.5*sl, 0.010, 0.100)\n    • 20<adx14≤30: tp = clip(2.0*sl, 0.010, 0.100)\n    • adx14≤20: tp = clip(1.6*sl, 0.010, 0.100)\n  若 side=hold：sl=0.01, tp=0.02（占位值）\n- **杠杆倍数计算**：\n  步骤1 - 基础杠杆（根据趋势强度）：\n    • adx14 > 30 且 confidence > 0.70: 8x\n    • adx14 > 25 且 confidence > 0.60: 5x\n    • adx14 > 20: 3x\n    • adx14 ≤ 20: 2x\n  步骤2 - 应用惩罚系数（连乘）：\n    • rsi14_3m > 85 或 < 15: × 0.5\n    • atr_pct > 0.05: × 0.6\n    • spread_bps > 20: × 0.7\n    • adx14_3m > 70: × 0.8\n  步骤3 - 最终限制：\n    • 结果 = 步骤1 × 步骤2所有系数\n    • 最终杠杆 = max(1.0, min(结果, 10.0))\n    • 保留1位小数\n- **confidence 计算（动态评分）**：\n  步骤1 - 基础值（根据多因子打分结果）：\n    • 总分 Score >= 4: 0.75（强信号）\n    • 总分 3 <= Score < 4: 0.65\n    • 总分 2 <= Score < 3: 0.55（中等）\n    • 总分 -2 < Score < 2: 0.45（弱信号/观望）\n    • 总分 -3 < Score <= -2: 0.55\n    • 总分 -4 < Score <= -3: 0.65\n    • 总分 Score <= -4: 0.75（强空头信号）\n  步骤2 - ADX 趋势强度加权（×系数）：\n    • adx14 > 40: × 1.15（强趋势增强信心）\n    • 30 < adx14 <= 40: × 1.08\n    • 20 < adx14 <= 30: × 1.00（正常）\n    • adx14 <= 20: × 0.85（震荡市降低信心）\n  步骤3 - 多周期一致性修正（+/-）：\n    加分项（每项 +0.05）：\n    • 3m/30m/4h 三周期 EMA 方向一致\n    • 3m 和 30m MACD 同向\n    • 4h MACD 与 30m 同向\n    • RSI 在健康区间（买入: 40-65, 卖出: 35-60）\n    减分项（每项 -0.08）：\n    • 3m RSI > 85 或 < 15（极端）\n    • 30m RSI > 75 或 < 25\n    • 3m 与 30m 趋势相反\n    • 4h 与 30m 趋势相反\n    • atr_pct > 0.05（高波动）\n  步骤4 - 最终限制：\n    • 结果 = (步骤1 × 步骤2) + 步骤3所有修正\n    • 最终 confidence = clip(结果, 0.30, 0.95)\n    • 保留2位小数（如 0.67 而非 0.673456）\n    • ⚠️ 重要：必须输出数字（如 0.75），不能输出字符串（如 \"0.75\" 或 \"75%\"）\n  步骤2 - 加分项（每项 +0.08，可叠加）：\n    • EMA 与 MACD 同向（ema_fast>ema_slow 且 macd>macd_signal，或都相反）\n    • 4h 趋势同向（若 4h 数据可用）\n    • RSI 健康区间：买入时 40≤rsi14≤65，卖出时 35≤rsi14≤60\n  步骤3 - 减分项（每项 -0.10，可叠加）：\n    • atr_pct > 0.05（高波动）\n    • rsi14 > 75 或 < 25（30m 极端）\n    • rsi14_3m > 85 或 < 15（3m 极端）\n    • EMA 与 MACD 冲突（ema_fast>ema_slow 但 macd<macd_signal，或相反）\n    • adx14_3m > 70（3m 趋势过热）\n  步骤4 - 最终限制：\n    • 结果 = 基础值 + 加分 - 减分\n    • 最终 confidence = clip(结果, 0.30, 0.95)\n    • 保留2位小数\n\n【健壮性与回退】\n- 指标缺失处理：\n  • 若某个指标为 null 或缺失，用安全默认值：\n    - RSI: 50（中性）\n    - ADX: 20（弱趋势）\n    - MACD: 0（无信号）\n    - EMA: 使用 last 价格\n    - ATR: last * 0.02\n  • 若有效因子 < 2 个（如只有价格无指标）：\n    → 输出 BTC-USDT hold（sl=0.01, tp=0.02, conf=0.50, rationale=\"数据不足观望\"）\n- 所有字段必须是具体数值：\n  • 不得输出 \"N/A\"、\"—\"、\"约\"、\"~\" 等模糊内容\n  • leverage 必须是纯数字（如 2.5 而非 \"2.5x\"）\n  • 百分比字段用小数（如 0.05 而非 \"5%\"）\n- 仅交易 constraints.symbols 中的币种：\n  • 若输入数据包含未在白名单的币种，忽略它们\n  • 若所有币种都不在白名单，回退到 BTC-USDT hold\n\n【最终输出要求】\n1. **严格JSON格式**：\n   - 只输出一个 JSON 对象（不是数组）\n   - 不得在 JSON 前后添加任何文字、解释、思维链\n   - 示例错误输出：\"根据分析，我建议...{json}\" ❌\n   - 示例正确输出：{json} ✅\n2. **rationale 内容要求**：\n   - 长度：≤50字中文\n   - 必须包含关键依据，示例：\n     • \"30m金叉+ADX32+4h同向，3m RSI85降杠杆\"\n     • \"震荡市ADX18+RSI中性，观望\"\n     • \"3m RSI超买93.8，等待回调\"\n   - 避免冗余词汇（如\"根据\"\"建议\"\"因此\"）\n3. **时间戳格式**：\n   - 使用 ISO-8601 格式（如 \"2025-10-29T17:30:00Z\"）\n   - 使用 UTC 时区\n\n【示例输出（仅供参考格式）】\n{\n  \"version\": \"1.0\",\n  \"decision\": {\n    \"symbol\": \"SOL-USDT\",\n    \"side\": \"hold\",\n    \"order_type\": \"market\",\n    \"leverage\": 1.0,\n    \"max_slippage_bps\": 15,\n    \"risk\": {\n      \"stop_loss_pct\": 0.01,\n      \"take_profit_pct\": 0.02\n    },\n    \"exit_plan\": {\n      \"take_profit_pct\": 0.02,\n      \"stop_loss_pct\": 0.01,\n      \"invalidation_condition\": \"3m RSI回落至75以下或30m金叉确认\"\n    },\n    \"confidence\": 0.40,\n    \"rationale\": \"3m RSI极端超买93.9，等待回调\"\n  },\n  \"ts\": \"2025-10-29T17:30:00Z\"\n}\n"
  },
  {
    "role": "user",
    "content": "{\"objective\": \"根据市场数据和技术指标，判断趋势方向，输出 buy/sell/hold。\", \"account\": {\"equity_usdt\": 136244.95}, \"market_snapshot\": {\"BTC-USDT\": {\"last\": 111099.0, \"high24h\": 113652.8, \"low24h\": 109145.5, \"vol24\": 0.040570122143313646, \"spread_bps\": null, \"open_interest\": null, \"funding_rate\": null, \"volume_24h\": null}, \"ETH-USDT\": {\"last\": 3926.5, \"high24h\": 4036.98, \"low24h\": 3838.83, \"vol24\": 0.05046479052591369, \"spread_bps\": null, \"open_interest\": null, \"funding_rate\": null, \"volume_24h\": null}, \"SOL-USDT\": {\"last\": 194.67, \"high24h\": 201.75, \"low24h\": 189.06, \"vol24\": 0.0651872399445215, \"spread_bps\": null, \"open_interest\": null, \"funding_rate\": null, \"volume_24h\": null}, \"BNB-USDT\": {\"last\": 1113.7, \"high24h\": 1121.0, \"low24h\": 1072.7, \"vol24\": 0.04336895034569449, \"spread_bps\": null, \"open_interest\": null, \"funding_rate\": null, \"volume_24h\": null}, \"XRP-USDT\": {\"last\": 2.5878, \"high24h\": 2.6647, \"low24h\": 2.5454, \"vol24\": 0.04610093515727644, \"spread_bps\": null, \"open_interest\": null, \"funding_rate\": null, \"volume_24h\": null}, \"DOGE-USDT\": {\"last\": 0.19515, \"high24h\": 0.19728, \"low24h\": 0.18675, \"vol24\": 0.05395849346656424, \"spread_bps\": null, \"open_interest\": null, \"funding_rate\": null, \"volume_24h\": null}}, \"technical_indicators\": {\"BTC-USDT\": {\"ema_fast\": 111327.99979433426, \"ema_slow\": 112499.58910611723, \"rsi14\": 30.57754718818368, \"atr14\": 653.7172554052925, \"macd\": -615.864938495346, \"macd_signal\": -484.50089520555537, \"adx14\": 35.032239548284046, \"boll_upper\": 113917.36643783236, \"boll_mid\": 111994.11499999996, \"boll_lower\": 110070.86356216756, \"ema_fast_3m\": 110618.47576537941, \"ema_slow_3m\": 110906.35896915654, \"rsi14_3m\": 13.436143084831539, \"atr14_3m\": 242.6260570821083, \"macd_3m\": -117.50089937244775, \"macd_signal_3m\": -121.26139829633323, \"adx14_3m\": 59.91347943870861, \"boll_upper_3m\": 110929.20093459294, \"boll_mid_3m\": 110692.13249999998, \"boll_lower_3m\": 110455.06406540702, \"ema_fast_4h\": null, \"ema_slow_4h\": null, \"rsi14_4h\": null, \"atr14_4h\": null, \"macd_4h\": null, \"macd_signal_4h\": null, \"adx14_4h\": null, \"boll_upper_4h\": null, \"boll_mid_4h\": null, \"boll_lower_4h\": null}, \"ETH-USDT\": {\"ema_fast\": 3950.317517591544, \"ema_slow\": 3998.19661952851, \"rsi14\": 33.66155400131751, \"atr14\": 37.163537148585746, \"macd\": -23.445681764937035, \"macd_signal\": -15.888134626644913, \"adx14\": 33.929346908341415, \"boll_upper\": 4047.7075150644055, \"boll_mid\": 3974.851499999998, \"boll_lower\": 3901.9954849355904, \"ema_fast_3m\": 3905.9901938108455, \"ema_slow_3m\": 3929.300447746907, \"rsi14_3m\": 14.45950577455295, \"atr14_3m\": 9.265213119795447, \"macd_3m\": -9.247666843314619, \"macd_signal_3m\": -10.584114049839034, \"adx14_3m\": 64.0548874571397, \"boll_upper_3m\": 3925.513702644085, \"boll_mid_3m\": 3909.9797499999986, \"boll_lower_3m\": 3894.4457973559124, \"ema_fast_4h\": null, \"ema_slow_4h\": null, \"rsi14_4h\": null, \"atr14_4h\": null, \"macd_4h\": null, \"macd_signal_4h\": null, \"adx14_4h\": null, \"boll_upper_4h\": null, \"boll_mid_4h\": null, \"boll_lower_4h\": null}, \"SOL-USDT\": {\"ema_fast\": 195.33498587610325, \"ema_slow\": 196.51456168078332, \"rsi14\": 39.57136706958356, \"atr14\": 2.3265320791582096, \"macd\": -0.7531648485006315, \"macd_signal\": -0.1011002800795005, \"adx14\": 27.094693705992942, \"boll_upper\": 202.2377265929571, \"boll_mid\": 197.1845000000001, \"boll_lower\": 192.1312734070431, \"ema_fast_3m\": 193.04212879906243, \"ema_slow_3m\": 194.0895450225819, \"rsi14_3m\": 32.917056895034555, \"atr14_3m\": 0.46834044610415504, \"macd_3m\": -0.36290376171717753, \"macd_signal_3m\": -0.46179091156870145, \"adx14_3m\": 53.236067415947026, \"boll_upper_3m\": 193.81387250466946, \"boll_mid_3m\": 193.1345, \"boll_lower_3m\": 192.45512749533054, \"ema_fast_4h\": null, \"ema_slow_4h\": null, \"rsi14_4h\": null, \"atr14_4h\": null, \"macd_4h\": null, \"macd_signal_4h\": null, \"adx14_4h\": null, \"boll_upper_4h\": null, \"boll_mid_4h\": null, \"boll_lower_4h\": null}, \"BNB-USDT\": {\"ema_fast\": 1108.000662512186, \"ema_slow\": 1112.6657582266182, \"rsi14\": 50.394072329197584, \"atr14\": 8.303798884288339, \"macd\": -1.2479696715367936, \"macd_signal\": -1.8333721562965726, \"adx14\": 23.5489347091606, \"boll_upper\": 1118.3930261167616, \"boll_mid\": 1108.6099999999997, \"boll_lower\": 1098.8269738832378, \"ema_fast_3m\": 1108.991069229146, \"ema_slow_3m\": 1108.3753087117182, \"rsi14_3m\": 62.91009323586494, \"atr14_3m\": 2.466749850745629, \"macd_3m\": 0.1504284771285711, \"macd_signal_3m\": 0.04096572515549566, \"adx14_3m\": 20.18322857533059, \"boll_upper_3m\": 1110.3490575234573, \"boll_mid_3m\": 1108.8475000000005, \"boll_lower_3m\": 1107.3459424765438, \"ema_fast_4h\": null, \"ema_slow_4h\": null, \"rsi14_4h\": null, \"atr14_4h\": null, \"macd_4h\": null, \"macd_signal_4h\": null, \"adx14_4h\": null, \"boll_upper_4h\": null, \"boll_mid_4h\": null, \"boll_lower_4h\": null}, \"XRP-USDT\": {\"ema_fast\": 2.6157067651224915, \"ema_slow\": 2.6282628297745307, \"rsi14\": 31.381767332624438, \"atr14\": 0.0261001559658451, \"macd\": -0.009140005367882065, \"macd_signal\": -0.0017201598445144932, \"adx14\": 23.133783108622477, \"boll_upper\": 2.6773579491213013, \"boll_mid\": 2.63172, \"boll_lower\": 2.586082050878699, \"ema_fast_3m\": 2.578720715249029, \"ema_slow_3m\": 2.603105051871232, \"rsi14_3m\": 4.40998998653043, \"atr14_3m\": 0.00718730689252693, \"macd_3m\": -0.011986648011368839, \"macd_signal_3m\": -0.011090506717126337, \"adx14_3m\": 76.55974096469124, \"boll_upper_3m\": 2.6136225743556536, \"boll_mid_3m\": 2.5877749999999966, \"boll_lower_3m\": 2.5619274256443396, \"ema_fast_4h\": null, \"ema_slow_4h\": null, \"rsi14_4h\": null, \"atr14_4h\": null, \"macd_4h\": null, \"macd_signal_4h\": null, \"adx14_4h\": null, \"boll_upper_4h\": null, \"boll_mid_4h\": null, \"boll_lower_4h\": null}, \"DOGE-USDT\": {\"ema_fast\": 0.19382855119487102, \"ema_slow\": 0.1947142207004183, \"rsi14\": 49.90183902639739, \"atr14\": 0.002282782153114194, \"macd\": -0.00014230362086478654, \"macd_signal\": -0.0002732623051836324, \"adx14\": 27.04524008450853, \"boll_upper\": 0.196988791068058, \"boll_mid\": 0.19399449999999985, \"boll_lower\": 0.1910002089319417, \"ema_fast_3m\": 0.1940100932614103, \"ema_slow_3m\": 0.19397795056354708, \"rsi14_3m\": 45.55872228643306, \"atr14_3m\": 0.00044073088986880323, \"macd_3m\": -2.1176123532695712e-05, \"macd_signal_3m\": -8.401067051574223e-06, \"adx14_3m\": 12.985128517829938, \"boll_upper_3m\": 0.1943552432562457, \"boll_mid_3m\": 0.19409574999999998, \"boll_lower_3m\": 0.19383625674375426, \"ema_fast_4h\": null, \"ema_slow_4h\": null, \"rsi14_4h\": null, \"atr14_4h\": null, \"macd_4h\": null, \"macd_signal_4h\": null, \"adx14_4h\": null, \"boll_upper_4h\": null, \"boll_mid_4h\": null, \"boll_lower_4h\": null}}, \"constraints\": {\"symbols\": [\"BTC-USDT\", \"ETH-USDT\", \"SOL-USDT\", \"BNB-USDT\", \"XRP-USDT\", \"DOGE-USDT\"], \"symbol_rules\": {\"BTC-USDT\": {\"price_tick\": 0.1, \"lot_size_min\": 0.0001, \"lot_size_step\": 0.0001}, \"ETH-USDT\": {\"price_tick\": 0.01, \"lot_size_min\": 0.001, \"lot_size_step\": 0.001}, \"SOL-USDT\": {\"price_tick\": 0.001, \"lot_size_min\": 0.01, \"lot_size_step\": 0.01}, \"XRP-USDT\": {\"price_tick\": 0.0001, \"lot_size_min\": 1.0, \"lot_size_step\": 1.0}, \"DOGE-USDT\": {\"price_tick\": 1e-05, \"lot_size_min\": 1.0, \"lot_size_step\": 1.0}, \"BNB-USDT\": {\"price_tick\": 0.01, \"lot_size_min\": 0.01, \"lot_size_step\": 0.01}}, \"risk_limits\": {\"max_open_risk_pct\": 0.03, \"max_slippage_bps\": 15}, \"output_json_schema\": {\"version\": \"1.0\", \"decision\": {\"symbol\": \"BTC-USDT\", \"side\": \"buy|sell|hold\", \"order_type\": \"market|limit\", \"leverage\": \"float\", \"confidence\": \"0.0~1\", \"max_slippage_bps\": \"int\", \"risk\": {\"stop_loss_pct\": \"0.0~0.05\", \"take_profit_pct\": \"0.0~0.1\"}, \"rationale\": \"≤30字简短理由\"}, \"ts\": \"ISO-8601\"}, \"format_rule\": \"仅输出严格 JSON；不要解释；不要思维链。\"}, \"instruction\": \"分析上述多个交易对的指标，比较它们的趋势强度与风险，从中选出最具潜力的1个币种，并给出 buy/sell/hold 决策与杠杆倍数（最大25倍）。请以JSON格式输出，字段包括 symbol、side、leverage、risk、confidence、rationale。\"}"
  }
]

==== REASONING ====


==== OUTPUT ====
{
    "version": "1.0",
    "decision": {
        "symbol": "XRP-USDT",
        "side": "hold",
        "order_type": "market",
        "leverage": 1.0,
        "max_slippage_bps": 15,
        "risk": {
            "stop_loss_pct": 0.01,
            "take_profit_pct": 0.02
        },
        "exit_plan": {
            "take_profit_pct": 0.02,
            "stop_loss_pct": 0.01,
            "invalidation_condition": "3m RSI反弹至15以上或30m金叉确认"
        },
        "confidence": 0.4,
        "rationale": "3m RSI极端超卖4.4，等待反弹"
    },
    "ts": "2025-10-29T17:30:00Z"
}